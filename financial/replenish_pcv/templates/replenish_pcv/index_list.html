{% load endless %}
{% load humanize %}
{% paginate data_list %}
<div class="table-responsive">
    <table class="table table-hover table-bordered">
    <thead>
        <tr>
            <th><span>ID</span></th>
            <th><span>Number</span></th>
            <th><span>Date</span></th>
            <th><span>CV Number</span></th>
            <th class="text-right"><span>Amount</span></th>
            <th class="text-center"><span>Action</span></th>
        </tr>
    </thead>
    <tbody>
        {% for data in data_list %}
        <tr>
            <td>{{ data.id }}</td>
            <td>{{ data.reppcvnum }}</td>
            <td>{{ data.reppcvdate|date:"Y-m-d" }}</td>
            <td>{{ data.cvmain.cvnum|default:'N/A' }}</td>
            <td style="text-align: right;">{{ data.amount|floatformat:2|intcomma }}</td>
            <td style="width: 115px; text-align: center;">
                <div class="iconlist-wrap auto-0">
                    <a href="{% url 'operationalfund:detail' data.pk %}" class="btnDetail">View Details</a>
                </div>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
    <div class="pagination pull-right">{% show_pages %}</div>
</div>
<!-- required -->
<a href="/{{ request.resolver_match.app_name }}/?page=1" rel="page" class="endless_page_link" id="dummy" style="display: none;">1</a>
<script>
    $(function () {
        $('.shade').remove();
        $('.panel').prepend('<div class="shade"><div class="loader two-color"></div></div>');
        $('#searchFilter').val(getCookie('keysearch_{{ request.resolver_match.app_name }}'));
        $('.endless_page_link').on('click', function () {
            $('.shade').fadeIn();
        });
    });
</script>